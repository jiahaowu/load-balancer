syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.jiahaowu.balancer.protocol";

package comm;

service ConnectionService {
    // allow nodes join the cluster
    rpc JoinCluster (ComputingNode) returns (JoinResponse) {
    }
}

message JoinResponse {
    int32 nodeCount = 1;
}

message ComputingNode {
    string hostname = 2;
    string ipAddr = 3;
    double performance = 4;
}

message Cluster {
    repeated ComputingNode nodeList = 2;
}
